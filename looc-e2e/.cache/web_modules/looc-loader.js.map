{"version":3,"file":"looc-loader.js","sources":["../../../looc-loader/build/index.esm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\nvar ArrayType;\r\n(function (ArrayType) {\r\n    ArrayType[\"String\"] = \"string[]\";\r\n    ArrayType[\"Number\"] = \"number[]\";\r\n    ArrayType[\"Boolean\"] = \"boolean[]\";\r\n    ArrayType[\"Nothing\"] = \"nothing\";\r\n})(ArrayType || (ArrayType = {}));\r\nvar PrimitiveType;\r\n(function (PrimitiveType) {\r\n    PrimitiveType[\"String\"] = \"string\";\r\n    PrimitiveType[\"Boolean\"] = \"boolean\";\r\n    PrimitiveType[\"Number\"] = \"number\";\r\n    PrimitiveType[\"Nothing\"] = \"nothing\";\r\n})(PrimitiveType || (PrimitiveType = {}));\r\nconst isString = (t) => {\r\n    return t === PrimitiveType.String;\r\n};\r\nconst isBoolean = (t) => {\r\n    return t === PrimitiveType.Boolean;\r\n};\r\nconst isNumber = (t) => {\r\n    return t === PrimitiveType.Number;\r\n};\r\nconst getPropTypesByComponent = (componentName) => (interfaces) => {\r\n    const propTypes = `${componentName}Props`;\r\n    return interfaces[propTypes];\r\n};\n\nconst Loader = ({ debugMode }) => {\r\n    const [imports, setImports] = useState(null);\r\n    const [propTypes, setPropTypes] = useState(null);\r\n    const [props, setProps] = useState({});\r\n    const createInputs = (propTypes) => {\r\n        const inputs = [];\r\n        const getInputType = (type) => {\r\n            if (isNumber(type))\r\n                return \"number\";\r\n            if (isBoolean(type))\r\n                return \"checkbox\";\r\n            if (isString(type))\r\n                return \"text\";\r\n            return \"text\";\r\n        };\r\n        for (const [prop, type] of Object.entries(propTypes)) {\r\n            inputs.push(React.createElement(\"label\", { className: \"prop-input\" },\r\n                prop,\r\n                \":\",\r\n                React.createElement(\"input\", { type: getInputType(type), onChange: (e) => {\r\n                        const newProps = Object.assign(Object.assign({}, props), { [prop]: e.target.value });\r\n                        setProps(newProps);\r\n                    } })));\r\n        }\r\n        return inputs;\r\n    };\r\n    useEffect(() => {\r\n        const loadComponent = async () => {\r\n            const response = await fetch(\"data.json\");\r\n            const data = await response.json();\r\n            return import(`/${data.filepath}`)\r\n                .then(({ default: component }) => {\r\n                console.log(`Successfully imported ${data.filepath}!`);\r\n                const propTypes = getPropTypesByComponent(component.name)(data.interfaces);\r\n                console.log(\"Prop types: \", propTypes);\r\n                setPropTypes(propTypes);\r\n                setImports({ component });\r\n            })\r\n                .catch((e) => console.log(`There was a problem importing ${data.filepath}!`, e));\r\n        };\r\n        loadComponent();\r\n    }, []);\r\n    if (!imports)\r\n        return null;\r\n    const { component: Component } = imports;\r\n    if (debugMode)\r\n        return React.createElement(\"div\", null, \"Debug\");\r\n    return (React.createElement(\"div\", null,\r\n        React.createElement(Component, Object.assign({}, props)),\r\n        React.createElement(\"div\", { className: \"prop-inputs\" }, createInputs(propTypes))));\r\n};\r\nReactDOM.render(React.createElement(Loader, null), document.getElementById(\"root\"));\n\nexport { Loader };\n"],"names":[],"mappings":"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"}